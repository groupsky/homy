# Test environment configuration for E2E monitoring pipeline test
# Based on example.env but with test-specific overrides

###
### Base configuration defaults (from example.env)
###
BACKUP_PATH=./backup
CONFIG_PATH=./config
DATA_PATH=./data.test
DOMAIN=local
LOCAL_SUBNET=172.1.1.0/24
PUID=1000
PGID=1000
TZ=Europe/Sofia

# CRITICAL: Use test secrets directory instead of production secrets
SECRETS_PATH=./secrets.test

###
### Test-specific database configuration
###
INFLUXDB_DATABASE=homy
MONGO_DATABASE=homy

###
### Service-specific paths for monitoring pipeline test
###
GRAFANA_CONFIG_FILE=${CONFIG_PATH}/grafana/config.ini
GRAFANA_CONFIG_PATH=${CONFIG_PATH}/grafana
GRAFANA_DATA_PATH=${DATA_PATH}/grafana
INFLUXDB_CONFIG_FILE=${CONFIG_PATH}/influxdb/influxdb.conf
MONGO_DATA_PATH=${DATA_PATH}/mongo

###
### Secret file paths (using test SECRETS_PATH)
###
INFLUXDB_SECRET_ADMIN_USER_FILE=${SECRETS_PATH}/influxdb_read_user
INFLUXDB_SECRET_ADMIN_PASSWORD_FILE=${SECRETS_PATH}/influxdb_read_user_password
INFLUXDB_SECRET_USER_FILE=${SECRETS_PATH}/influxdb_read_user
INFLUXDB_SECRET_USER_PASSWORD_FILE=${SECRETS_PATH}/influxdb_read_user_password
INFLUXDB_SECRET_READ_USER_FILE=${SECRETS_PATH}/influxdb_read_user
INFLUXDB_SECRET_READ_USER_PASSWORD_FILE=${SECRETS_PATH}/influxdb_read_user_password
INFLUXDB_SECRET_WRITE_USER_FILE=${SECRETS_PATH}/influxdb_read_user
INFLUXDB_SECRET_WRITE_USER_PASSWORD_FILE=${SECRETS_PATH}/influxdb_read_user_password
MONGO_SECRET_ROOT_USERNAME_FILE=${SECRETS_PATH}/influxdb_read_user
MONGO_SECRET_ROOT_PASSWORD_FILE=${SECRETS_PATH}/influxdb_read_user_password
MONGO_EXPRESS_SECRET_USERNAME_FILE=${SECRETS_PATH}/influxdb_read_user
MONGO_EXPRESS_SECRET_PASSWORD_FILE=${SECRETS_PATH}/influxdb_read_user_password
NODERED_SECRET_CREDENTIALS_KEY_FILE=${SECRETS_PATH}/influxdb_read_user

###
### Dummy values for services we don't need in tests
###
INGRESS_NAME=dummy-ingress
INGRESS_ADDRESS=10.0.0.1
INGRESS_DATA_PATH=./data/dummy
INGRESS_SUBNET=10.0.0.0/24
INGRESSGEN_TEMPLATE_NGINX_FILE=./config/dummy
VPN_PUBLIC_URL=vpn.local
VPN_PUBLIC_PORT=51820
VPN_PEERS=dummy
VPN_SUBNET=10.13.13.0/24
VPN_DATA_PATH=./data/dummy
VPN_TEMPLATE_PEER_FILE=./config/dummy
VPN_TEMPLATE_SERVER_FILE=./config/dummy
NODERED_DOMAIN=nodered.local
NODERED_DATA=./data/dummy
NODERED_CONFIG_FLOWS_FILE=./config/dummy
NODERED_CONFIG_SETTINGS_FILE=./config/dummy
HOMEASSISTANT_DOMAIN=ha.local
HOMEASSISTANT_DATA_PATH=./data/dummy
HOMEASSISTANT_CONFIG_CONFIGURATION_FILE=./config/dummy
HOMEASSISTANT_CONFIG=./config/dummy
HOMEASSISTANT_TRUSTED_PROXIES=127.0.0.1
MONGO_EXPRESS_DOMAIN=mongo.local
MAIN_POWER_CONFIG_FILE=./config/dummy
SECONDARY_POWER_CONFIG_FILE=./config/dummy
TETRIARY_POWER_CONFIG_FILE=./config/dummy

###
### Test-specific service configuration
###
FLUSH_IMMEDIATELY=true

###
### Docker Compose project override
###
COMPOSE_PROJECT_NAME=homy-monitoring-e2e